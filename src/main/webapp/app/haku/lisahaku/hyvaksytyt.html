
<h1>Harkinnanvaraiset hakemukset</h1>

<div ng-include="'haku/topNavigation.html'" />

<div class="tabsheets">


    <div ng-include="'haku/hakukohdelista.html'"></div>

    <div class="toggle-content-container overflow-x-scroll">
        <div ng-include="'../common/html/hakukohdeNimi.html'"></div>
        <div ng-include="'haku/lisahaku/lisahakuHakukohdeNavigation.html'" />

        <div class="tabsheets">
            <h1>{{hakukohdeModel.hakukohde.hakukohdeKoodistoNimi}}</h1>

            
            <div ng-show="model.errors.length > 0" class="notification warning">
                <h3>Tietoja haettaessa tapahtui virhe</h3>
                <p ng-repeat="error in model.errors">{{error}}</p>
            </div>

            <div ng-show="model.hakeneet.length > 0" class="margin-vertical-2">
                <form name="form" ng-submit="submit()">
                    <table class="virkailija-table-1">
                        <thead>
                            <tr>
                                <th>Nimi</th>
                                <th>Hakemus</th>
                                <th>Hyväksymisen tila</th>
                                <th>Valittu</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr ng-repeat="hakija in model.hakeneet">
                                <td>
                                    <span title="Sukunimi">{{hakija.lastName}}</span>,
                                	<span title="Etunimi">{{hakija.firstNames}}</span>
                                </td>
                                <td>
                                    <span title="HakemusOid">
                                        <a href="{{HAKEMUS_UI_URL_BASE}}/virkailija/hakemus/{{hakuOid}}/esikatselu/{{hakija.oid}}" target="_blank" >
	                                        {{hakija.oid}}
	                                    </a>
                                    </span>
                                </td>
                                <td>
                                    {{hakija.lisahakuHyvaksytty}}
                                    <!--
                                    <ul>
                                        <li ng-repeat="(key, value) in hakija.hakemus.answers.hakutoiveet track by $index">
                                            {{key}} {{value}}
                                        </li>
                                    </ul>
                                    -->
                                </td>
                                <td>
                                    <a ng-show="!hakija.lisahakuHyvaksytty" ng-click="lisahakuValitse(hakija.oid)" class="button small">hyväksy</a>
                                    <a ng-show="hakija.lisahakuHyvaksytty" ng-click="lisahakuPoistavalinta(hakija.oid)" class="button small">hylkää</a>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </form>
            </div>
        </div>
    </div>

    <div class="clear"></div>
</div>
