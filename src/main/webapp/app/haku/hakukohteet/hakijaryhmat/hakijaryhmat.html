<h1>{{ t('hakukohteet.hakijaryhmat') || 'Hakijaryhmät' }}</h1>
<div ng-include="'../common/js/topnavigation/topNavigation.html'"></div>

<div class="tabsheets">

    <div ng-include="'haku/hakukohdelista.html'"></div>
    <div class="toggle-content-container overflow-x-scroll">

        <div ng-include="'../common/html/hakukohdeNimi.html'"></div>
        <div ng-include="'haku/hakukohteet/hakukohdeNavigation.html'"/>

        <div class="tabsheets">

            <tila-filter tila-filter-value="kuuluuFilterValue" filter-values="kuuluuFilterValues"></tila-filter>

            <accordion close-others="true">
                <accordion-group ng-repeat="hakijaryhma in model track by $index" is-open="$first">

                    <accordion-heading>

                        <h3>{{ t('hakijaryhmat.hakijaryhma') || 'Hakijaryhmä' }}: {{hakijaryhma.nimi}}</h3>

                    </accordion-heading>
                    {{ t('hakijaryhmat.kiintionkoko') || 'Kiintiön koko' }}: {{hakijaryhma.kiintio}}

                    <table ng-table="hakijaryhma.tableParams" show-filter="true" class="virkailija-table-1">
                        <tr ng-repeat="tulos in ($data | kuuluuFilter: kuuluuFilterValue)">
                            <td class="leftorientedcolumn" data-title="(t('hakijaryhmat.hakija') || 'Hakija')"
                                sortable="'sukunimi'" filter="{ 'sukunimi' : 'text' }">
                                <show-person-information sukunimi="{{tulos.sukunimi}}"
                                                         etunimi="{{tulos.etunimi}}"
                                                         hakemus-oid="{{tulos.hakemusOid}}"
                                                         haku-oid="{{hakuOid}}"
                                                         henkilo-oid="{{tulos.hakijaOid}}"/>
                            </td>
                            <td data-title="(t('hakijaryhmat.hakemuksentila') || 'Hakijaryhmään kuuluminen')" sortable="'ryhmaanKuuluminen'">
                                {{ t('hakijaryhmat.' + tulos.ryhmaanKuuluminen) || tulos.ryhmaanKuuluminen}}
                            </td>
                            <td data-title="(t('hakijaryhmat.valinnantila') || 'Valinnan tila')" sortable="'valinnanTila'">
                                <span ng-if="tulos.valinnanTila">{{ tulos.valinnanTila }}</span>
                            </td>
                            <td data-title="(t('hakijaryhmat.sijoitteluntila') || 'Sijoittelun tila')" sortable="'tila'">
                                <show-sijoittelun-tila ng-if="tulos.hakemusSijoittelussa" hakemus="tulos.hakemusSijoittelussa" user-lang="userLang"></show-sijoittelun-tila>
                            </td>
                            <td data-title="(t('hakijaryhmat.vastaanottotila') || 'Vastaanottotila')" sortable="'vastaanottotila'">
                                <span ng-if="tulos.vastaanottotila">{{tulos.vastaanottotila}}</span>
                            </td>
                        </tr>
                    </table>
                </accordion-group>
            </accordion>
        </div>

    </div>
    <div class="clear"></div>
</div>
